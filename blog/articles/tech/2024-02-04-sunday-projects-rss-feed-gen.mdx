---
slug: sunday-projects-rss-feed-gen
title: 'Sunday-Projects - RSS Feed Generierung'
date: 2024-02-04
authors: [luca]
tags: [artikel, tech, sunday-projects, luca]
draft: false
image: /img/tech/sundayprojects/rssgen.jpg
---

import Image from '@theme/IdealImage'

'Sunday Projects' sind die kleinen, technischen Projekte und Spielereien mit denen ich in unregelmäßigen Abständen meine Zeit verbringe.

<Image img={require('/static/img/tech/sundayprojects/rssgen.jpg')} />

<!--truncate-->

In unregelmäßigen  Abstaenden werden Audio-Podcasts von uns ,Mindestens 10 Zeichen, veröffentlicht.
Damit diese von potentiellen HörerInnen empfangen und abgespielt werden können, müssen sie im (Standard-)Format einer `rss.xml` Datei bereitgestellt werden.

Interessierte können diese Datei, z.B. unsere `https://m10z.de/audiofeed.xml`, in ihre sogenannten PodCatcher (Apps, die die Feeds parsen und die referenzierten `.mp3`-Dateien abspielen) einbinden.

Diese Datei muss nun irgendwo herkommen.
Die "großen" Anbieter nutzen dafür entweder fertige Softwareangebote im Abonnement oder Content Management Systeme, die dann entweder automatisiert oder nach mehr oder weniger geringem _Customizing_ genau diese XML-Datei ausspucken.

Damit ein PodCatcher die Datei einbinden und bei Bedarf aktualisieren kann, reicht es aus, wenn der Feed / die Datei statisch auf einem WebServer öffentlich verfügbar ist.

Im Projekt 'M10Z' verwenden wir [Docusaurus] (https://docusaurus.io).
Das ist ein Dokumentations- und Blog-Baukasten.
Die Dateien im `/static` Verzeichnis werden hier 'durchgereicht', sind also nach dem _build & deployment_ Prozess [öffentlich zugänglich](https://m10z.de/audiofeed.xml).


## Aufbau der Feed XML Datei

Aber ich wollte beschreiben, wo die Datei eigentlich her kommt und was in ihr steht.
Damit der _Feed_ korrekt interpretiert werden kann, muessen gewisse Elemente gesetzt werden.
Hier gibt es einen "Container" (das `<channel>` Element), sowie die konkreten Podcasts (jedes `<item>` Element) in diesem.

Nachfolgend der Container von M10Z:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
     xmlns:atom="http://www.w3.org/2005/Atom"
     xmlns:podcast="https://podcastindex.org/namespace/1.0"
     xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd">
    <channel>
        <title>M10Z Podcasts</title>
        <link>https://m10z.de</link>
        <description>Die Podcasts von M10Z, dem offenen Kanal für Videospiele und das Drumherum</description>
        <language>de-DE</language>
        <itunes:category text="Leisure">
            <itunes:category text="Games"/>
        </itunes:category>
        <itunes:explicit>false</itunes:explicit>
        <itunes:type>episodic</itunes:type>
        <itunes:author>M10Z</itunes:author>
        <podcast:locked>no</podcast:locked>
        <podcast:guid>E9QfcR8TYeotS5ceJLmn</podcast:guid>
        <itunes:image href="https://raw.githubusercontent.com/LucaNerlich/m10z/main/static/img/M10Z_Logo3000x3000.jpg"/>
        <atom:link href="https://m10z.de/audiofeed.xml" rel="self" type="application/rss+xml"/>
    </channel>
</rss>
```

Innerhalb des Channel-Containers werden Podcasts nun einzeln als Item-Element hinzugefügt. Nachfolgend ein Beispiel (in Teilen gekürzt):

```xml
<rss version="2.0">
    <channel>
       <!-- [...] -->
       <item>
            <title>Fundbüro #03 - Zwielichtige Politik oder zocken an der Wallstreet: Hauptsache Tycoon</title>
            <pubDate>Sun, 9 Jul 2023, 00:30 +MEZ</pubDate>
            <guid isPermaLink="false">9999508951ea1dbdcc20 [...]</guid>
            <itunes:image href="[...]"/>
            <description>[...]</description>
            <author>m10z@posteo.de</author>
            <itunes:explicit>false</itunes:explicit>
            <link>https://m10z.de</link>
            <itunes:duration>2174</itunes:duration>
            <enclosure url="https://m10z.picnotes.de/Fundbuero/Fundbuero_003.mp3" length="87362872" type="audio/mpeg"/>
        </item>
        <item>[...]</item>
        <!-- [...] -->
    </channel>
</rss>
```

Die meisten Zeilen sind selbsterklärend, die anderen beschreibe ich hier kurz:

- `guid` -> Ein einzigartiger Hash der dieses spezifischen Item (diese Episode) identifizieren kann
- `explicit` -> Ist der Inhalt fuer Nicht-Erwachsene geeignet
- `duration` -> Die Abspieldauer der referenzierten Datei in Sekunden
- `enclosure` -> Die konkrete Referenz auf die Audiodatei der Episode. Length entspricht hier der Dateigröße in Bytes, bzw. dem _Request Header_: _Content-Length_.

## Erzeugung der Feed XML Datei

TODO
